{{- if and .Values.embedding.enabled (eq .Values.embedding.model.source "huggingface") }}
{{- if and .Values.hfcli.token (ne .Values.hfcli.token "hf_<your-token>") }}
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    argocd.argoproj.io/sync-wave: "-90"
  name: hf-token
  namespace: {{ include "embedding.namespace" . }}
stringData:
  token: {{ .Values.hfcli.token }}
type: Opaque
{{- end }}
{{- end }}
